From 9c65a3e2e15c96b3b74d7c7846dbd60b13474370 Mon Sep 17 00:00:00 2001
From: Sebastian Ott <sebott@redhat.com>
Date: Thu, 5 Sep 2024 13:02:32 +0200
Subject: arm: ensure compatibility of virt-rhel9*

Signed-off-by: Sebastian Ott <sebott@redhat.com>
---
 hw/arm/virt.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/hw/arm/virt.c b/hw/arm/virt.c
index 3c776b5011..1af1c9e170 100644
--- a/hw/arm/virt.c
+++ b/hw/arm/virt.c
@@ -3582,6 +3582,9 @@ DEFINE_VIRT_MACHINE(2, 6)
 
 static void virt_rhel_machine_9_4_0_options(MachineClass *mc)
 {
+    /* From virt_machine_9_0_options() */
+    mc->smbios_memory_device_size = 16 * GiB;
+
     compat_props_add(mc->compat_props, hw_compat_rhel_9_6, hw_compat_rhel_9_6_len);
     compat_props_add(mc->compat_props, hw_compat_rhel_9_5, hw_compat_rhel_9_5_len);
 }
-- 
2.39.3

