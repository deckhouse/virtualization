spec:
  versions:
    - name: v1alpha2
      schema:
        openAPIV3Schema:
          description: |-
            VirtualMachineRestore предоставляет ресурс для восстановления виртуальных машин из снимков.
          properties:
            spec:
              properties:
                restoreMode:
                  default: Safe
                  description: |-
                    Режим восстановления виртуальной машины:

                    * Safe — безопасный режим. В этом режиме виртуальная машина не будет восстановлена, если в процессе восстановления будут обнаружены неразрешимые конфликты.
                    * Forced — режим принудительного восстановления. В этом режиме конфигурация виртуальной машины будет обновлена, а все связанные ресурсы будут пересозданы. Работа виртуальной машины может быть нарушена, если процесс восстановления завершится неудачно. Используйте, когда необходимо восстановить виртуальную машину несмотря на конфликты.
                  type: string
                nameReplacements:
                  description: Правила переименования ресурсов виртуальной машины.
                  items:
                    description: |
                      NameReplacement представляет собой правило для переопределения имён ресурсов виртуальной машины.
                    properties:
                      from:
                        description: Селектор для выбора ресурсов для переименования.
                        properties:
                          kind:
                            description: Тип ресурса.
                          name:
                            description: Имя ресурса, которое нужно переименовать.
                      to:
                        description: Новое имя ресурса.
                virtualMachineSnapshotName:
                  description: Имя снимка для восстановления виртуальной машины.
            status:
              properties:
                conditions:
                  description: |
                    Последнее подтверждённое состояние данного ресурса.
                  items:
                    description: |
                      Подробные сведения об одном аспекте текущего состояния данного API-ресурса.
                    properties:
                      lastTransitionTime:
                        description: Время перехода условия из одного состояния в другое.
                      message:
                        description: Удобочитаемое сообщение с подробной информацией о последнем переходе.
                      observedGeneration:
                        description: |
                          `.metadata.generation`, на основе которого было установлено условие.
                          Например, если `.metadata.generation` в настоящее время имеет значение `12`, а `.status.conditions[x].observedgeneration` имеет значение `9`, то условие устарело.
                      reason:
                        description: Краткая причина последнего перехода состояния.
                      status:
                        description: |
                          Статус условия. Возможные значения: `True`, `False`, `Unknown`.
                      type:
                        description: Тип условия.
                observedGeneration:
                  description: Поколение ресурса, которое в последний раз обрабатывалось контроллером.
                phase:
                  description: |-
                    Текущее состояние ресурса VirtualMachineRestore:

                    * `Pending` — ресурс был создан и находится в очереди ожидания;
                    * `InProgress` — идёт процесс восстановления виртуальной машины из снимка;
                    * `Ready` — виртуальная машина успешно восстановлена из снимка;
                    * `Failed` — произошла ошибка во время процесса восстановления виртуальной машины из снимка;
                    * `Terminating` — ресурс находится в процессе удаления.
