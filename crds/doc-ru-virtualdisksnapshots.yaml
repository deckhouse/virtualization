spec:
  versions:
    - name: v1alpha2
      schema:
        openAPIV3Schema:
          description: |
            Предоставляет ресурс для создания снимков существующих виртуальных дисков, которые могут быть использованы в качестве источников данных для создания новых виртуальных дисков.

            В процессе выполнения автоматически создаётся ресурс VolumeSnapshot.
          properties:
            spec:
              properties:
                virtualDiskName:
                  description: |
                    Имя виртуального диска, для которого будет создан снимок.
                volumeSnapshotClassName:
                  description: |
                    Имя класса снимков томов, который будет использоваться при создании снимка виртуального диска.
                requiredConsistency:
                  description: |
                    Создавать снимок диска подключённой виртуальной машины только в том случае, если возможно заморозить её через агента.

                    Если установлено значение `True`, снимок виртуального диска будет создан, если выполняется хотя бы одно из следующих условий:
                    - виртуальный диск не подключен ни к одной виртуальной машине;
                    - виртуальный диск подключен к виртуальной машине, которая выключена;
                    - виртуальный диск подключен к виртуальной машине с агентом, и операция заморозки прошла успешно.
            status:
              properties:
                conditions:
                  description: |
                    Последнее подтверждённое состояние данного ресурса.
                  items:
                    description: |
                      Подробные сведения об одном аспекте текущего состояния данного API-ресурса.
                    properties:
                      lastTransitionTime:
                        description: Время перехода условия из одного состояния в другое.
                      message:
                        description: Удобочитаемое сообщение с подробной информацией о последнем переходе.
                      observedGeneration:
                        description: |
                          `.metadata.generation`, на основе которого было установлено условие.
                          Например, если `.metadata.generation` в настоящее время имеет значение `12`, а `.status.conditions[x].observedgeneration` имеет значение `9`, то условие устарело.
                      reason:
                        description: Краткая причина последнего перехода состояния.
                      status:
                        description: |
                          Статус условия. Возможные значения: `True`, `False`, `Unknown`.
                      type:
                        description: Тип условия.
                volumeSnapshotName:
                  description: |
                    Имя созданного ресурса VolumeSnapshot.
                consistent:
                  description: |
                    Снимок виртуального диска консистентен.
                phase:
                  description: |
                    Текущее состояние ресурса VirtualDiskSnapshot:

                    * `Pending` — ресурс был создан и находится в очереди ожидания;
                    * `InProgress` — идёт процесс создания снимка виртуального диска;
                    * `Ready` — создание снимка успешно завершено, и снимок виртуального диска доступен для использования;
                    * `Failed` — во время создания снимка виртуального диска произошла ошибка;
                    * `Terminating` — ресурс находится в процессе удаления.
                observedGeneration:
                  description: |
                    Поколение ресурса, которое в последний раз обрабатывалось контроллером.
