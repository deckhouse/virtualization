global:
  clusterConfiguration:
    apiVersion: deckhouse.io/v1
    clusterDomain: cluster.local
    clusterType: Static
    defaultCRI: Containerd
    kind: ClusterConfiguration
    kubernetesVersion: "1.30"
    podSubnetCIDR: 10.111.0.0/16
    podSubnetNodeCIDRPrefix: "24"
    serviceSubnetCIDR: 10.222.0.0/16
  clusterIsBootstrapped: true
  deckhouseEdition: FE
  deckhouseVersion: dev
  discovery:
    apiVersions:
      - deckhouse.io/v1alpha1/OperationPolicy
      - cilium.io/v2/CiliumEndpoint
      - cilium.io/v2/CiliumClusterwideNetworkPolicy
      - snapshot.storage.k8s.io/v1/VolumeSnapshot
      - snapshot.storage.k8s.io/v1beta1/VolumeSnapshot
      - infrastructure.cluster.x-k8s.io/v1alpha1/DeckhouseControlPlane
      - machine.sapcloud.io/v1alpha1/PacketMachineClass
      - externaldata.gatekeeper.sh/v1beta1/Provider
      - deckhouse.io/v1alpha1/CustomAlertmanager
      - deckhouse.io/v1beta1/ClusterDaemonSetMetric
      - deckhouse.io/v1alpha1/StatefulSetMetric
      - autoscaling.k8s.io/v1beta2/VerticalPodAutoscaler
      - deckhouse.io/v1alpha1/User
      - monitoring.coreos.com/v1/Alertmanager
      - deckhouse.io/v1/GrafanaDashboardDefinition
      - deckhouse.io/v1alpha1/NamespaceMetric
      - virtualization.deckhouse.io/v1alpha2/VirtualDisk
      - machine.sapcloud.io/v1alpha1/Machine
      - expansion.gatekeeper.sh/v1beta1/ExpansionTemplate
      - deckhouse.io/v1alpha1/PodMetric
      - storage.deckhouse.io/v1alpha1/BlockDevice
      - storage.deckhouse.io/v1alpha1/ReplicatedStorageClass
      - expansion.gatekeeper.sh/v1alpha1/ExpansionTemplate
      - monitoring.coreos.com/v1/PrometheusRule
      - deckhouse.io/v1alpha1/GrafanaAlertsChannel
      - cilium.io/v2alpha1/CiliumClusterwideEnvoyConfig
      - deckhouse.io/v1/User
      - monitoring.coreos.com/v1alpha1/AlertmanagerConfig
      - deckhouse.io/v1beta1/DaemonSetMetric
      - virtualization.deckhouse.io/v1alpha2/VirtualMachineSnapshot
      - machine.sapcloud.io/v1alpha1/MachineSet
      - cilium.io/v2/CiliumEgressGatewayPolicy
      - machine.sapcloud.io/v1alpha1/AzureMachineClass
      - autoscaling.k8s.io/v1beta2/VerticalPodAutoscalerCheckpoint
      - status.gatekeeper.sh/v1beta1/ConstraintTemplatePodStatus
      - cilium.io/v2alpha1/CiliumEndpointSlice
      - machine.sapcloud.io/v1alpha1/AWSMachineClass
      - acme.cert-manager.io/v1/Challenge
      - deckhouse.io/v1/DexAuthenticator
      - deckhouse.io/v1/DexClient
      - monitoring.coreos.com/v1/Prometheus
      - deckhouse.io/v1alpha1/PrometheusRemoteWrite
      - templates.gatekeeper.sh/v1beta1/ConstraintTemplate
      - deckhouse.io/v1alpha1/DeploymentMetric
      - virtualization.deckhouse.io/v1alpha2/VirtualMachineClass
      - storage.deckhouse.io/v1alpha1/ReplicatedStorageMetadataBackup
      - cert-manager.io/v1/ClusterIssuer
      - machine.sapcloud.io/v1alpha1/AlicloudMachineClass
      - dex.coreos.com/v1/OAuth2Client
      - deckhouse.io/v1beta1/IngressMetric
      - cilium.io/v2/CiliumExternalWorkload
      - apps.kruise.io/v1alpha1/DaemonSet
      - cluster.x-k8s.io/v1beta1/Cluster
      - cilium.io/v2/CiliumNode
      - storage.deckhouse.io/v1alpha1/LVMLogicalVolume
      - virtualization.deckhouse.io/v1alpha2/VirtualImage
      - status.gatekeeper.sh/v1beta1/MutatorPodStatus
      - deckhouse.io/v1alpha1/SecurityPolicy
      - cilium.io/v2/CiliumLocalRedirectPolicy
      - deckhouse.io/v1alpha1/NodeGroupConfiguration
      - deckhouse.io/v1/GrafanaAdditionalDatasource
      - deckhouse.io/v1/PrometheusRemoteWrite
      - autoscaling.k8s.io/v1/VerticalPodAutoscaler
      - internal.virtualization.deckhouse.io/v1/InternalVirtualizationVirtualMachine
      - mutations.gatekeeper.sh/v1beta1/AssignMetadata
      - deckhouse.io/v1/CustomPrometheusRules
      - deckhouse.io/v1alpha1/GrafanaAdditionalDatasource
      - deckhouse.io/v1alpha1/ServiceMetric
      - deckhouse.io/v1alpha1/IngressNginxController
      - storage.deckhouse.io/v1alpha1/LVMVolumeGroup
      - virtualization.deckhouse.io/v1alpha2/VirtualMachineBlockDeviceAttachment
      - machine.sapcloud.io/v1alpha1/GCPMachineClass
      - monitoring.coreos.com/v1/Probe
      - monitoring.coreos.com/v1/ServiceMonitor
      - deckhouse.io/v1alpha2/NodeGroup
      - cluster.x-k8s.io/v1beta1/MachineSet
      - deckhouse.io/v1beta1/ClusterDeploymentMetric
      - storage.deckhouse.io/v1alpha1/LvmVolumeGroupBackup
      - virtualization.deckhouse.io/v1alpha2/VirtualMachine
      - storage.deckhouse.io/v1alpha1/ReplicatedStoragePool
      - templates.gatekeeper.sh/v1/ConstraintTemplate
      - snapshot.storage.k8s.io/v1beta1/VolumeSnapshotClass
      - cluster.x-k8s.io/v1beta1/Machine
      - deckhouse.io/v1alpha1/ClusterAuthorizationRule
      - deckhouse.io/v1alpha1/DexProvider
      - deckhouse.io/v1beta1/DeploymentMetric
      - cdi.internal.virtualization.deckhouse.io/v1beta1/InternalVirtualizationCDI
      - cdi.internal.virtualization.deckhouse.io/v1beta1/InternalVirtualizationDataVolume
      - templates.gatekeeper.sh/v1alpha1/ConstraintTemplate
      - cilium.io/v2alpha1/CiliumNodeConfig
      - deckhouse.io/v1alpha1/LocalPathProvisioner
      - cluster.x-k8s.io/v1beta1/MachinePool
      - deckhouse.io/v1alpha1/StaticInstance
      - mutations.gatekeeper.sh/v1alpha1/AssignImage
      - deckhouse.io/v1alpha1/Instance
      - deckhouse.io/v1/DexProvider
      - deckhouse.io/v1alpha1/GrafanaDashboardDefinition
      - virtualization.deckhouse.io/v1alpha2/VirtualMachineRestore
      - status.gatekeeper.sh/v1beta1/ExpansionTemplatePodStatus
      - cilium.io/v2alpha1/CiliumL2AnnouncementPolicy
      - snapshot.storage.k8s.io/v1/VolumeSnapshotClass
      - snapshot.storage.k8s.io/v1alpha1/VolumeSnapshotClass
      - cluster.x-k8s.io/v1beta1/MachineDeployment
      - deckhouse.io/v1/NodeGroup
      - deckhouse.io/v1alpha1/DaemonSetMetric
      - deckhouse.io/v1alpha1/IngressMetric
      - mutations.gatekeeper.sh/v1alpha1/Assign
      - virtualization.deckhouse.io/v1alpha2/VirtualMachineOperation
      - autoscaling.k8s.io/v1beta1/VerticalPodAutoscalerCheckpoint
      - cilium.io/v2alpha1/CiliumBGPPeeringPolicy
      - cilium.io/v2/CiliumEnvoyConfig
      - network.deckhouse.io/v1alpha1/EgressGatewayPolicy
      - machine.sapcloud.io/v1alpha1/VsphereMachineClass
      - deckhouse.io/v1alpha1/NodeUser
      - status.gatekeeper.sh/v1beta1/ConstraintPodStatus
      - deckhouse.io/v1/NodeUser
      - deckhouse.io/v1alpha1/ClusterDaemonSetMetric
      - deckhouse.io/v1alpha1/ClusterStatefulSetMetric
      - virtualization.deckhouse.io/v1alpha2/VirtualMachineIPAddress
      - virtualization.deckhouse.io/v1alpha2/VirtualMachineIPAddressLease
      - deckhouse.io/v1alpha1/NodeGroup
      - deckhouse.io/v1/ClusterAuthorizationRule
      - monitoring.coreos.com/v1alpha1/ScrapeConfig
      - deckhouse.io/v1beta1/ClusterServiceMetric
      - cert-manager.io/v1/Certificate
      - network.deckhouse.io/v1alpha1/EgressGateway
      - cluster.x-k8s.io/v1beta1/MachineHealthCheck
      - infrastructure.cluster.x-k8s.io/v1alpha1/StaticCluster
      - machine.sapcloud.io/v1alpha1/YandexMachineClass
      - dex.coreos.com/v1/Password
      - deckhouse.io/v1alpha1/ClusterLogDestination
      - cilium.io/v2alpha1/CiliumLoadBalancerIPPool
      - mutations.gatekeeper.sh/v1/ModifySet
      - deckhouse.io/v1alpha1/InstanceTypesCatalog
      - machine.sapcloud.io/v1alpha1/MachineDeployment
      - deckhouse.io/v1alpha1/DexClient
      - monitoring.coreos.com/v1alpha1/PrometheusAgent
      - monitoring.coreos.com/v1/ThanosRuler
      - deckhouse.io/v1alpha1/ClusterAlert
      - mutations.gatekeeper.sh/v1beta1/Assign
      - deckhouse.io/v1alpha1/ClusterDeploymentMetric
      - cilium.io/v2/CiliumClusterwideEnvoyConfig
      - cilium.io/v2alpha1/CiliumPodIPPool
      - cilium.io/v2/CiliumNetworkPolicy
      - deckhouse.io/v1alpha1/ClusterPodMetric
      - deckhouse.io/v1alpha1/ClusterLoggingConfig
      - internal.virtualization.deckhouse.io/v1/InternalVirtualizationKubeVirt
      - internal.virtualization.deckhouse.io/v1/InternalVirtualizationVirtualMachineInstance
      - cilium.io/v2alpha1/CiliumCIDRGroup
      - externaldata.gatekeeper.sh/v1alpha1/Provider
      - snapshot.storage.k8s.io/v1beta1/VolumeSnapshotContent
      - cert-manager.io/v1/Issuer
      - deckhouse.io/v1alpha1/DexAuthenticator
      - deckhouse.io/v1beta1/ServiceMetric
      - deckhouse.io/v1/IngressNginxController
      - mutations.gatekeeper.sh/v1/AssignMetadata
      - cilium.io/v2alpha1/CiliumEnvoyConfig
      - machine.sapcloud.io/v1alpha1/OpenStackMachineClass
      - deckhouse.io/v1alpha1/CustomPrometheusRules
      - autoscaling.k8s.io/v1beta1/VerticalPodAutoscaler
      - virtualization.deckhouse.io/v1alpha2/ClusterVirtualImage
      - mutations.gatekeeper.sh/v1beta1/ModifySet
      - infrastructure.cluster.x-k8s.io/v1alpha1/StaticMachineTemplate
      - acme.cert-manager.io/v1/Order
      - monitoring.coreos.com/v1/PodMonitor
      - deckhouse.io/v1beta1/ClusterIngressMetric
      - deckhouse.io/v1alpha1/ClusterServiceMetric
      - snapshot.storage.k8s.io/v1alpha1/VolumeSnapshot
      - mutations.gatekeeper.sh/v1alpha1/ModifySet
      - cilium.io/v2/CiliumIdentity
      - deckhouse.io/v1alpha1/KubeSchedulerWebhookConfiguration
      - deckhouse.io/v1alpha1/SSHCredentials
      - deckhouse.io/v1alpha1/ClusterIngressMetric
      - deckhouse.io/v1beta1/PodMetric
      - deckhouse.io/v1beta1/StatefulSetMetric
      - mutations.gatekeeper.sh/v1/Assign
      - deckhouse.io/v1alpha1/PodLoggingConfig
      - internal.network.deckhouse.io/v1alpha1/SDNInternalEgressGatewayInstance
      - snapshot.storage.k8s.io/v1/VolumeSnapshotContent
      - runtime.cluster.x-k8s.io/v1alpha1/ExtensionConfig
      - dex.coreos.com/v1/Connector
      - deckhouse.io/v1alpha1/Group
      - deckhouse.io/v1beta1/NamespaceMetric
      - mutations.gatekeeper.sh/v1alpha1/AssignMetadata
      - snapshot.storage.k8s.io/v1alpha1/VolumeSnapshotContent
      - infrastructure.cluster.x-k8s.io/v1alpha1/StaticMachine
      - cert-manager.io/v1/CertificateRequest
      - deckhouse.io/v1alpha1/AuthorizationRule
      - deckhouse.io/v1beta1/ClusterPodMetric
      - deckhouse.io/v1beta1/ClusterStatefulSetMetric
      - autoscaling.k8s.io/v1/VerticalPodAutoscalerCheckpoint
      - config.gatekeeper.sh/v1alpha1/Config
      - virtualization.deckhouse.io/v1alpha2/VirtualDiskSnapshot
      - deckhouse.io/v1alpha2/Descheduler
    clusterControlPlaneIsHighlyAvailable: false
    clusterDNSAddress: 10.222.0.10
    clusterDomain: cluster.local
    clusterMasterCount: 1
    clusterUUID: aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee
    d8SpecificNodeCountByRole: {}
    kubernetesVersion: 1.27.16
    kubernetesVersions:
      - 1.27.16
    podSubnet: 10.111.0.0/16
    prometheusScrapeInterval: 30
    serviceSubnet: 10.222.0.0/16
  enabledModules:
    - priority-class
    - deckhouse
    - flow-schema
    - admission-policy-engine-crd
    - admission-policy-engine
    - cni-cilium-crd
    - cni-cilium
    - local-path-provisioner-crd
    - local-path-provisioner
    - snapshot-controller-crd
    - snapshot-controller
    - registry-packages-proxy
    - control-plane-manager-crd
    - control-plane-manager
    - node-manager-crd
    - node-manager
    - kube-dns
    - cert-manager-crd
    - cert-manager
    - user-authz-crd
    - user-authz
    - user-authn-crd
    - user-authn
    - operator-prometheus-crd
    - operator-prometheus
    - prometheus-crd
    - prometheus
    - prometheus-metrics-adapter-crd
    - prometheus-metrics-adapter
    - vertical-pod-autoscaler-crd
    - vertical-pod-autoscaler
    - extended-monitoring
    - monitoring-applications
    - monitoring-custom
    - monitoring-deckhouse
    - monitoring-kubernetes
    - monitoring-kubernetes-control-plane
    - monitoring-ping
    - node-local-dns
    - ingress-nginx-crd
    - ingress-nginx
    - log-shipper-crd
    - log-shipper
    - loki
    - pod-reloader
    - chrony
    - dashboard
    - namespace-configurator
    - secret-copier
    - deckhouse-tools
    - documentation
    - sds-node-configurator-crd
    - sds-node-configurator
    - virtualization-crd
    - virtualization
    - sds-replicated-volume-crd
    - sds-replicated-volume
    - descheduler
    - sdn
    - runtime-audit-engine
  internal:
    modules:
      kubeRBACProxyCA:
        cert: KUBE-RBCA-PROXY-CA-CERT
        key: KUBE-RBCA-PROXY-CA-KEY
      resourcesRequests:
        memoryControlPlane: 1.0e+09
        milliCpuControlPlane: 1000
  modules:
    https:
      certManager:
        clusterIssuerName: letsencrypt
      mode: CertManager
    ingressClass: nginx
    placement: {}
    publicDomainTemplate: "%s.cluster.domain.io"
    resourcesRequests:
      controlPlane: {}
      everyNode:
        cpu: 300m
        memory: 512Mi
  modulesImages:
    digests:
      common:
        kubeRbacProxy: sha256:0000000000000000000000000000000000000000000000000000000000000000
      virtualization:
        cdiApiserver: sha256:0000000000000000000000000000000000000000000000000000000000000000
        cdiCloner: sha256:0000000000000000000000000000000000000000000000000000000000000000
        cdiController: sha256:0000000000000000000000000000000000000000000000000000000000000000
        cdiImporter: sha256:0000000000000000000000000000000000000000000000000000000000000000
        cdiOperator: sha256:0000000000000000000000000000000000000000000000000000000000000000
        dvcr: sha256:0000000000000000000000000000000000000000000000000000000000000000
        dvcrImporter: sha256:0000000000000000000000000000000000000000000000000000000000000000
        dvcrUploader: sha256:0000000000000000000000000000000000000000000000000000000000000000
        bounder: sha256:0000000000000000000000000000000000000000000000000000000000000000
        kubeApiRewriter: sha256:0000000000000000000000000000000000000000000000000000000000000000
        kubeApiProxy: sha256:0000000000000000000000000000000000000000000000000000000000000000
        libguestfs: sha256:0000000000000000000000000000000000000000000000000000000000000000
        preDeleteHook: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtApi: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtController: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtExportproxy: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtExportserver: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtHandler: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtLauncher: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtOperator: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtualizationAudit: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtualizationApi: sha256:0000000000000000000000000000000000000000000000000000000000000000
        virtualizationController: sha256:0000000000000000000000000000000000000000000000000000000000000000
        vmRouteForge: sha256:0000000000000000000000000000000000000000000000000000000000000000
    registry:
      CA: ""
      address: some-registry.io
      base: some-registry.io/sys/deckhouse-oss
      dockercfg: eyJhdXRocyI6eyJzb21lLXJlZ2lzdHJ5LmlvIjp7ImF1dGgiOiJkWE5sY2pwd1lYTnoifX19
      path: /sys/deckhouse-oss
      scheme: https
    tags: {}
virtualization:
  dvcr:
    storage:
      persistentVolumeClaim:
        size: 50G
        storageClassName: linstor-thick-data-r2
      type: PersistentVolumeClaim
  highAvailability: false
  internal:
    apiserver:
      cert:
        ca: API-SERVER-CA-CRT
        crt: API-SERVER-CERT
        key: API-SERVER-KEY
      proxyCert:
        ca: PROXY-CA-CRT
        crt: PROXY-CRT
        key: PROXY-KEY
    controller:
      cert:
        ca: CONTROLLER-CA-CRT
        crt: CONTROLLER-CERT
        key: CONTROLLER-KEY
    audit:
      cert:
        ca: AUDIT-CA-CRT
        crt: AUDIT-CERT
        key: AUDIT-KEY
    dvcr:
      cert:
        ca: DVCR-CA-CRT
        crt: DVCR-CRT
        key: DVCR-kEY
      htpasswd: DVCR-HTPASSWD-STRING
      passwordRW: DVCR-PASSWD-STRING
      salt: DVCR-SALT-STRING
      serviceIP: 10.222.229.246
      garbageCollectionModeEnabled: "true"
    rootCA:
      ca: ""
      crt: ROOT-CA-CRT
      key: ROOT-CA-KEY
    moduleConfig:
      audit:
        enabled: true
      dvcr:
        storage:
          persistentVolumeClaim:
            size: 50G
            storageClassName: linstor-thick-data-r2
          type: PersistentVolumeClaim
      logLevel: debug
      virtualMachineCIDRs:
        - 10.0.10.0/24
        - 10.0.20.0/24
        - 10.0.30.0/24
    moduleState: {}
    virtConfig:
      phase: Deployed
      parallelMigrationsPerCluster: 2
      parallelOutboundMigrationsPerNode: 10
    virtHandler:
      nodeCount: 1
  logLevel: debug
  registry:
    base: some-registry.io/sys/deckhouse-oss/modules
    dockercfg: eyJhdXRocyI6eyJzb21lLXJlZ2lzdHJ5LmlvIjp7ImF1dGgiOiJkWE5sY2pwd1lYTnoifX19
    scheme: HTTPS
  virtualMachineCIDRs:
    - 10.0.10.0/24
    - 10.0.20.0/24
    - 10.0.30.0/24
