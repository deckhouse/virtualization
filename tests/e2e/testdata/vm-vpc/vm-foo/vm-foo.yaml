apiVersion: virtualization.deckhouse.io/v1alpha2
kind: VirtualMachine
metadata:
  name: vm-foo
spec:
  bootloader: EFI
  virtualMachineClassName: generic
  cpu:
    cores: 1
    coreFraction: 5%
  memory:
    size: 256Mi
  disruptions:
    restartApprovalMode: Manual
  provisioning:
    type: UserDataRef
    userDataRef:
      kind: Secret
      name: cloud-init-foo
  blockDeviceRefs:
    - kind: VirtualDisk
      name: vd-foo-root
  networks:
    - type: Main
    - type: ClusterNetwork
      name: cn-1003-for-e2e-test
