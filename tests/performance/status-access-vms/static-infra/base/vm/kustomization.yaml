apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ./vm.yaml
  - ./vmd-root.yaml
  - ./ip-claim.yaml

configurations:
  - transformer.yaml

generatorOptions:
  disableNameSuffixHash: true

secretGenerator:
  - name: cloud-init
    files:
      - userData=cfg/cloudinit.yaml
    type: Opaque

patches:
  - path: vm.ip.patch.yaml
